#import './Credentials.graphql'

query getWorkspaceArticles(
  $workspaceId: ID
  $isPersonalWorkspace: Boolean!
  $filter: FilterCorpusInput
) {
  tags {
    _id
    owner
    description
    color
    name
  }

  workspace(workspaceId: $workspaceId) @skip(if: $isPersonalWorkspace) {
    _id
    name
    color
    description
  }

  corpus(filter: $filter) {
    _id
    name
    articles {
      article {
        _id
      }
    }
  }

  articles(filter: $filter) {
    _id
    title
    updatedAt

    workingVersion {
      bibPreview
    }

    owner {
      _id
      ...basicPublicUserFields
    }

    contributors {
      user {
        ...extendedPublicUserFields
      }
    }

    tags {
      name
      owner
      color
      _id
    }
  }
}

mutation createArticle($createArticleInput: CreateArticleInput!) {
  createArticle(createArticleInput: $createArticleInput) {
    _id
    title
    updatedAt

    owner {
      _id
      ...basicPublicUserFields
    }

    tags {
      name
      owner
      color
      _id
    }
  }
}
